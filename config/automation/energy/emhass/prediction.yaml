alias: Prediction set input_number
id: b81cb250-5e2b-46e0-984b-f09c1a4eec92
mode: parallel
trigger:
  - platform: state
    entity_id: sensor.voorspelde_uren
    id: prediction
  - platform: state
    entity_id: sensor.voorspelde_uren_elasticnet
    id: prediction_elasticnet
  - platform: state
    entity_id: sensor.voorspelde_uren_kneighborsregressor
    id: prediction_kneighborsregressor

action:
  - choose:
      - conditions:
          - condition: trigger
            id: prediction
          - condition: template
            value_template: >
              {{ has_value("sensor.voorspelde_uren") }}
        sequence:
          - service: input_number.set_value
            data:
              value: >
                {{ states("sensor.voorspelde_uren") | float | round(2) }}
            target:
              entity_id: input_number.prediction
      - conditions:
          - condition: trigger
            id: prediction_elasticnet
          - condition: template
            value_template: >
              {{ has_value("sensor.voorspelde_uren_elasticnet") }}
        sequence:
          - service: input_number.set_value
            data:
              value: >
                {{ states("sensor.voorspelde_uren_elasticnet") | float | round(2) }}
            target:
              entity_id: input_number.prediction_elasticnet
      - conditions:
          - condition: trigger
            id: prediction_kneighborsregressor
          - condition: template
            value_template: >
              {{ has_value("sensor.voorspelde_uren_kneighborsregressor") }}
        sequence:
          - service: input_number.set_value
            data:
              value: >
                {{ states("sensor.voorspelde_uren_kneighborsregressor") | float | round(2) }}
            target:
              entity_id: input_number.prediction_kneighborsregressor
